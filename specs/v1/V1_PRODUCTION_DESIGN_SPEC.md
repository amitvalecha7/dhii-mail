# V1 Production Design & User Experience Specification

> **Directive**: "Zero Mocks. Production Ready. Real Data or Real Errors."

## 1. ðŸŽ¨ Design System: "Liquid Glass" 2.0
We are not just building a table of data; we are building a *HUD for the Mind*.

### Visual Language
*   **Materiality**:
    *   **Glass**: `backdrop-filter: blur(12px)` with `background: rgba(255, 255, 255, 0.05)`.
    *   **Borders**: `1px solid rgba(255, 255, 255, 0.1)`. No heavy opaque borders.
    *   **Depth**: use `box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1)` for floating panels.
*   **Typography**:
    *   **Font**: `Inter` v4.0.
    *   **Headers**: Tracking `-0.02em` (Tight), Weight `600`.
    *   **Body**: Tracking `0` (Normal), Weight `400`, `rgba(255,255,255, 0.8)` for readability.
*   **Motion**:
    *   **Transitions**: `all 0.3s cubic-bezier(0.4, 0, 0.2, 1)`. All hover states must glide, not snap.
    *   **Entry**: Staggered fade-in for list items (50ms delay per item).

---

## 2. ðŸš¦ The Zero-Mock Protocol
**Rule**: If a backend service (DB, IMAP, LLM) fails, the UI **MUST NOT** fallback to hardcoded fake data.

### Error Handling Standards
1.  **Service Unreachable**:
    *   *Bad*: Showing "Mock Email 1".
    *   *Good*: Display an "Empty State" component with a "Retry Connection" button and a red toast: *"Unable to reach IMAP Server (Timeout)"*.
2.  **LLM Missing**:
    *   If `OPENAI_API_KEY` is not set:
    *   *UI*: The "Insight Card" collapses to a warning line: âš ï¸ *"AI Analysis unavailable: Configure API Key"*.
    *   It does **NOT** show "This is a fake summary generated by code."

---

## 3. ðŸ‘¤ Critical User Flows (The "Happy Path")

### Flow A: The Intelligent Inbox
1.  **Launch**: App opens -> `SkeletonLoader` (Shimmer effect) appears.
2.  **Sync**: `EmailSyncService` runs.
    *   *Success*: List populates with **Real Database Rows**.
    *   *New Mail*: A "Blue Dot" pulse animation appears on unread items.
3.  **Analysis (The Magic)**:
    *   As mail arrives, the `AnalysisService` runs asynchronously.
    *   **UI Update**: A small "Sparkle" icon appears on the card when Analysis is ready.
    *   **Tags**: Auto-tags like `[Urgent]` or `[Finance]` appear as pill badges.
4.  **Read**: User clicks card -> "Glass Pane" slides in from the right.
    *   **Top**: "AI Brief" (3 bullet points summary).
    *   **Bottom**: Full Scrollable Email Body.

### Flow B: The Prep-Ready Calendar
1.  **Dashboard**: Main view is the "Day Grid".
2.  **Upcoming**: The "Next Meeting" card is prominent (Hero size).
    *   PROD REQUIREMENT: This must count down in real-time.
3.  **Context**: Click a meeting -> "Context Pane".
    *   **Aggregates**: Shows "Related Emails" (fetched via Subject Search).
    *   **No Mocks**: If no emails found, show "No related communications found."

---

## 4. ðŸ›‘ Acceptance Criteria (QA Checklist)
*   [ ] **Sync**: Connecting a NEW test Gmail account actually pulls emails.
*   [ ] **States**: "Loading", "Error", and "Success" states are visually distinct.
*   [ ] **Responsiveness**: The Glass UI stacks correctly on Mobile (Pane becomes full screen).
*   [ ] **Perf**: List scrolling is 60fps even with 100+ items (Virtualization required).
