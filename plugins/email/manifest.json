{
  "id": "email",
  "name": "Email Integration",
  "version": "2.0.0",
  "plugin_type": "integration",
  "author": "dhii-team",
  "description": "Email integration with SMTP support - Framework 2.0",
  "capabilities": [
    {
      "id": "email.send_email",
      "name": "Send Email",
      "description": "Send email via SMTP",
      "capability_type": "action",
      "input_schema": {
        "type": "object",
        "properties": {
          "to_email": {"type": "string", "format": "email"},
          "subject": {"type": "string"},
          "body": {"type": "string"},
          "from_email": {"type": "string", "format": "email"},
          "smtp_config": {
            "type": "object",
            "properties": {
              "host": {"type": "string"},
              "port": {"type": "integer"},
              "username": {"type": "string"},
              "password": {"type": "string"},
              "use_tls": {"type": "boolean"}
            },
            "required": ["host", "port"]
          }
        },
        "required": ["to_email", "subject", "body", "smtp_config"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "status": {"type": "string"},
          "message_id": {"type": "string"},
          "error": {"type": "string"}
        }
      },
      "requires_auth": true,
      "timeout_seconds": 30
    },
    {
      "id": "email.test_connection",
      "name": "Test Connection",
      "description": "Test SMTP connection",
      "capability_type": "query",
      "input_schema": {
        "type": "object",
        "properties": {
          "smtp_config": {
            "type": "object",
            "properties": {
              "host": {"type": "string"},
              "port": {"type": "integer"},
              "username": {"type": "string"},
              "password": {"type": "string"},
              "use_tls": {"type": "boolean"}
            },
            "required": ["host", "port"]
          }
        },
        "required": ["smtp_config"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "status": {"type": "string"},
          "error": {"type": "string"}
        }
      },
      "timeout_seconds": 10
    }
  ],
  "dependencies": [],
  "sandbox_config": {
    "allowed_modules": [
      "smtplib", "ssl", "email.mime.text", "email.mime.multipart"
    ],
    "max_memory_mb": 50,
    "timeout_seconds": 30
  }
}